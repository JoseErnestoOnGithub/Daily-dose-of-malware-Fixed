from urlparse import urlparse
import urllib


def download(url, directory):
    try:
        path = urlparse(url).path  # parse url
        filename = path.split("/")  # split it to list
        if filename[-1] == "":  # if there is no file and extension, it's html site
            print url + "is not executable file, may be phishing site"
        else:  # else download
            urllib.urlretrieve(url, directory + "/" + filename[-1])
            print("Downloaded " + directory + "/" + filename[-1])
    except IOError as e:
        print(e)


def output(dictionary):
    print("------------------")
    for key, value in dictionary.iteritems():
        if isinstance(value, list):

            # if list as a value in dictionary
            for j in value:
                print (j)
            print key
        else:
            print value
            print key

        print"-----------------"


def export(directory, dictionary):
    with open(directory + '.txt', "w") as out:  # create and open fiel with write permissions
        for key, value in dictionary.iteritems():
            out.write(key + "|")
            if isinstance(value, list):  # if list as a value in dictionary
                for j in value:
                    out.write(j + "|")
            else:
                out.write(value)
            out.write("\n")
